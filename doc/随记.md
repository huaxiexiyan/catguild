# catguild-auth (授权服务)
1、授权客户端，分3类
其一、受信任的终端
其二、微服务之间
其三、第三方不受信任的

2、用户
就应用授权来说，有2类用户
其一、是租户为授权单位
其二、是一般用户
其三、是微服务系统用户

3、解决授权问题
1、先解决一般用户登录问题

## 用户登录流程
### 用户操作界面视角
注册租户->给租户授权app版本(等同是授权了菜单)->注册租户下的用户->分配权限资源->用户登录系统
### 注册租户
```txt
step1: 需要初始化一个超级租户和相应的超级管理员，来进行管理工作
q1: 如何在登录的时候感知度租户的变化捏？
a1: 利用域名的不同感知不同的租户，在进入登录页的时候，获取到相应的tenantId。
方案1：访问前端页面的时候，请求后端获取租户的基本信息，然后后续的访问就不用特别处理了。
方案2：直接进行登录，在请求登录接口时携带域名信息，后端根据域名获取租户和路由信息
这里选择在登录之前进行获取，这样一来如果是单个域名也能方便切换不同的租户进行登录

q2: 登录的时候如何判断用户
a2: 根据上一步获取的租户id及用户登录凭证，检查租户及租户下的用户是否有效

step1: 注册客户端-> 给前端访问页面测试一个客户，获取唯一的访问clientId，以及分配好授权访问权限
```
### 注册

